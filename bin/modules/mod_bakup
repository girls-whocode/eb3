#!/usr/bin/env bash
# title					:Enhanced BASH v3
# description			:
# author				:Jessica Brown
# date					:2022-04-21
# version				:3.0.0
# usage					:
# notes					:
# bash_version	:5.1.16(1)-release
# ==============================================================================

function bakup() {
    baktimestamp=$(LC_ALL=C date +%Y%m%d_%H%M%S)
    if [ -d $archiveLocation ]; then
        if [ -d $1 ]; then
            bakFolder=$(basename "$1")-${baktimestamp}
            mkdir -p ${archiveLocation}/${bakFolder}
            rsync -aqr $1 ${archiveLocation}/${bakFolder}
            echo -e "The folder ${Aqua}${1} has been backed up at ${HOME}/.backup/${bakFolder}"
            diff -qr ${1}/ ${archiveLocation}/${bakFolder}/
        elif [ -f $1 ]; then
            cp $1 ${archiveLocation}/`basename $1`-${baktimestamp}.backup
        else
            warning "${1} file or directory not found."
        fi
    else
        echo -e "${Red}ERROR: ${Silver}The ${archiveLocation} folder does not exist in the home folder, ${CornflowerBlue}$1${Silver} was not backed up. Create the ${archiveLocation} and try again.${txtReset}"
    fi
}